# 主题切换功能说明

## 功能特性

1. **手动切换**：用户可以通过点击头部的太阳/月亮图标手动切换明亮/暗黑模式
2. **系统偏好识别**：自动检测用户的系统主题偏好设置
3. **记忆功能**：记住用户的选择，在下次访问时应用相同的主题
4. **无缝过渡**：主题切换时具有平滑的过渡动画效果

## 实现原理

### 1. 主题存储
- 用户选择的主题存储在浏览器的 localStorage 中
- 键名为 `theme`，值为 `light` 或 `dark`

### 2. 主题应用
- 通过设置 `document.documentElement` 的 `data-theme` 属性来应用主题
- DaisyUI 会根据这个属性自动应用相应的主题样式

### 3. 初始化流程
1. 检查 localStorage 中是否存储了用户选择的主题
2. 如果有存储的主题，则应用该主题
3. 如果没有存储的主题，则检测系统主题偏好并应用
4. 监听系统主题变化事件，当用户未手动设置主题时自动跟随系统变化

## 组件说明

### ThemeToggle.vue
主题切换组件，包含以下功能：
- 显示当前主题对应的图标（太阳/月亮）
- 点击切换主题
- 使用 localStorage 存储用户选择
- 监听系统主题变化

## 使用方法

### 手动切换主题
点击头部的太阳/月亮图标即可切换主题。

### 跟随系统主题
1. 清除浏览器中存储的主题设置：
   ```javascript
   localStorage.removeItem('theme');
   ```
2. 刷新页面，网站将自动跟随系统主题偏好

## 自定义主题

如需添加更多自定义主题：
1. 在 `tailwind.config.js` 的 `daisyui.themes` 数组中添加新主题
2. 更新 ThemeToggle.vue 组件以支持新主题
3. 更新图标和逻辑以适应新主题

## 注意事项

1. 主题切换功能依赖于现代浏览器的 `prefers-color-scheme` API
2. 在不支持该 API 的旧浏览器中，网站默认使用明亮模式
3. 用户手动设置的主题优先级高于系统主题偏好